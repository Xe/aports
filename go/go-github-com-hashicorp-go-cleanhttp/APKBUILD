# Contributor: Christine Dodrill <me@christine.website>
# Maintainer: Christine Dodrill <me@christine.website>
_gopkg=github.com/hashicorp/go-cleanhttp
_goimport=go-cleanhttp
_commit=3573b8b52aa7b37b9358d966a898feb387f62437

pkgname=go-github-com-hashicorp-go-cleanhttp
pkgver=0.0.1
pkgrel=0
pkgdesc="Functions for accessing "clean" Go http.Client values"
url="https://github.com/hashicorp/go-cleanhttp"
arch="noarch"
license="mpl-2"
depends="go gopath "
makedepends=""
install=""
source="$_goimport-$_commit.tar.gz::https://github.com/hashicorp/go-cleanhttp/archive/$_commit.tar.gz"
builddir="$srcdir/"

build() {
        cd "$builddir"
}

package() {
        cd "$builddir"
        mkdir -p "$pkgdir"/usr/share/gopath/src/"$_gopkg"
        cp -rf "$_goimport"-"$_commit"/* "$pkgdir"/usr/share/gopath/src/"$_gopkg"
}

check() {
        cd "$builddir"
        export GOPATH="$builddir"

        mkdir -p src/"$_gopkg"
        cp -rf $_goimport-"$_commit"/* src/"$_gopkg"
        go test -v "$_gopkg"/...
}
sha512sums="c288fb64f80a8569676ba2efedfde548bfde748d1027c5ac85896b10e72f55aa6dcc0e827c696e6f2f21fdd1d48bdab27c0528ad99be6f5b5c8c04d20f6c2501  go-cleanhttp-3573b8b52aa7b37b9358d966a898feb387f62437.tar.gz"
