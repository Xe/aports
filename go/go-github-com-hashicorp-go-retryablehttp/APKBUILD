# Contributor: Christine Dodrill <me@christine.website>
# Maintainer: Christine Dodrill <me@christine.website>
_gopkg=github.com/hashicorp/go-retryablehttp
_goimport=go-retryablehttp
_commit=794af36148bf63c118d6db80eb902a136b907e71

pkgname=go-github-com-hashicorp-go-retryablehttp
pkgver=0.0.1
pkgrel=0
pkgdesc="Retryable HTTP client in Go"
url="https://github.com/hashicorp/go-retryablehttp"
arch="noarch"
license="mpl-2"
depends="go gopath go-github-com-hashicorp-go-cleanhttp"
makedepends=""
install=""
source="$_goimport-$_commit.tar.gz::https://github.com/hashicorp/go-retryablehttp/archive/$_commit.tar.gz"
builddir="$srcdir/"

build() {
        cd "$builddir"
}

package() {
        cd "$builddir"
        mkdir -p "$pkgdir"/usr/share/gopath/src/"$_gopkg"
        cp -rf "$_goimport"-"$_commit"/* "$pkgdir"/usr/share/gopath/src/"$_gopkg"
}

check() {
        cd "$builddir"
        export GOPATH=/usr/share/gopath:"$builddir"

        mkdir -p src/"$_gopkg"
        cp -rf $_goimport-"$_commit"/* src/"$_gopkg"
        go test -v "$_gopkg"/...
}
sha512sums="733d89631d0dd1dddbd5d3fe171bb985e9a3d30d11cc6e16b4cee44bd18023ed9748528813401704a8b38d506ae241267c244262c622108eda0e81d089358279  go-retryablehttp-794af36148bf63c118d6db80eb902a136b907e71.tar.gz"
