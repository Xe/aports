# Contributor: Christine Dodrill <me@christine.website>
# Maintainer: Christine Dodrill <me@christine.website>
_gopkg=github.com/sebest/xff
_goimport=xff
_commit=6c115e0ffa35d6a2e3f7a9e797c9cf07f0da4b9f

pkgname=go-github-com-sebest-xff
pkgver=0.0.1
pkgrel=0
pkgdesc="A Golang Middleware to handle X-Forwarded-For Header"
url="https://github.com/sebest/xff"
arch="noarch"
license="mit"
depends="go gopath go-github-com-stretchr-testify"
makedepends=""
install=""
source="$_goimport-$_commit.tar.gz::https://github.com/sebest/xff/archive/$_commit.tar.gz"
builddir="$srcdir/"

build() {
        cd "$builddir"
}

package() {
        cd "$builddir"
        mkdir -p "$pkgdir"/usr/share/gopath/src/"$_gopkg"
        cp -rf "$_goimport"-"$_commit"/* "$pkgdir"/usr/share/gopath/src/"$_gopkg"
}

check() {
        cd "$builddir"
        export GOPATH=/usr/share/gopath:"$builddir"

        mkdir -p src/"$_gopkg"
        cp -rf $_goimport-"$_commit"/* src/"$_gopkg"
        go test -v "$_gopkg"
}
sha512sums="99c58cff1090f90742d812532003ee5100f970c8e9dac6164f767a92c0793f30cb5b0e93754cb42a457c1aa4759ea49620f6edbb2e871df96698e47284e9b7a6  xff-6c115e0ffa35d6a2e3f7a9e797c9cf07f0da4b9f.tar.gz"
