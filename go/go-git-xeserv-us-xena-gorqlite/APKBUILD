
# Contributor: Christine Dodrill <me@christine.website>
# Maintainer: Christine Dodrill <me@christine.website>
_gopkg=git.xeserv.us/xena/gorqlite
_goimport=gorqlite

pkgname=go-git-xeserv-us-xena-gorqlite
pkgver=1.0
pkgrel=0
pkgdesc="an rqlite database/sql driver"
url="https://git.xeserv.us/xena/gorqlite"
arch="noarch"
license="mit"
depends="go gopath "
makedepends=""
install=""
source="$_goimport-$pkgver.tar.gz::https://git.xeserv.us/xena/gorqlite/archive/1.0.tar.gz"
builddir="$srcdir/"
options="!check"

build() {
        cd "$builddir"
}

package() {
        cd "$builddir"
        mkdir -p "$pkgdir"/usr/share/gopath/src/"$_gopkg"
        cp -rf "$_goimport"/* "$pkgdir"/usr/share/gopath/src/"$_gopkg"
}

check() {
        cd "$builddir"
        export GOPATH="$builddir"

        mkdir -p src/"$_gopkg"
        cp -rf $_goimport/* src/"$_gopkg"
        go test -v "$_gopkg"/...
}
sha512sums="be08ac6417abffcba7549e9b2f136565e02be20ceeb75f1bfc481948cda4d1a90a9363628e9e8c0ec5afba96c525c3dc10ed47451ffdee8962ec7d7b241b4924  gorqlite-1.0.tar.gz"
