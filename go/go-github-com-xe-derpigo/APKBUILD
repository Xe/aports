
# Contributor: Christine Dodrill <me@christine.website>
# Maintainer: Christine Dodrill <me@christine.website>
_gopkg=github.com/Xe/derpigo
_goimport=derpigo

pkgname=go-github-com-xe-derpigo
pkgver=1.0.1
pkgrel=0
pkgdesc="Derpibooru API bindings in Go"
url="https://github.com/Xe/derpigo"
arch="noarch"
license="mit"
depends="go gopath "
makedepends=""
install=""
source="$_goimport-$pkgver.tar.gz::https://github.com/Xe/derpigo/archive/1.0.1.tar.gz"
builddir="$srcdir/"

build() {
        cd "$builddir"
}

package() {
        cd "$builddir"
        mkdir -p "$pkgdir"/usr/share/gopath/src/"$_gopkg"
        cp -rf "$_goimport"-"$pkgver"/* "$pkgdir"/usr/share/gopath/src/"$_gopkg"
}

check() {
        cd "$builddir"
        export GOPATH="$builddir"

        mkdir -p src/"$_gopkg"
        cp -rf $_goimport-"$pkgver"/* src/"$_gopkg"
        go test -v "$_gopkg"/...
}
sha512sums="c48fd7f76edf5c489b7490116b7eab789e9af74bdbc1da2e81c5171b9cf9f0ac935d788be2d6f4e316b0da9ce4c0abef013c4269576575199096e326ca1963a8  derpigo-1.0.1.tar.gz"
