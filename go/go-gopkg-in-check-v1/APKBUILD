# Contributor: Christine Dodrill <me@christine.website>
# Maintainer: Christine Dodrill <me@christine.website>
_gopkg=gopkg.in/check.v1
_goimport=check
_commit=20d25e2804050c1cd24a7eea1e7a6447dd0e74ec

pkgname=go-gopkg-in-check-v1
pkgver=2.0
pkgrel=0
pkgdesc="Rich testing for the Go language"
url="https://github.com/go-check/check"
arch="noarch"
license="bsd-2"
depends="go gopath "
makedepends=""
install=""
source="$_goimport-$_commit.tar.gz::https://github.com/go-check/check/archive/$_commit.tar.gz"
builddir="$srcdir/"

build() {
        cd "$builddir"
}

package() {
        cd "$builddir"
        mkdir -p "$pkgdir"/usr/share/gopath/src/"$_gopkg"
        cp -rf "$_goimport"-"$_commit"/* "$pkgdir"/usr/share/gopath/src/"$_gopkg"
}

check() {
        cd "$builddir"
        export GOPATH="$builddir"

        mkdir -p src/"$_gopkg"
        cp -rf $_goimport-"$_commit"/* src/"$_gopkg"
        go test -v "$_gopkg"/...
}
sha512sums="94342de3aad4db1c4442062f4cf4e57c723a43bbcb0069a8bed3b719e3864eef7500a24c9c99c755114708d6822e9b23f296b6d0b2b46f32cc6ffc65944d1729  check-20d25e2804050c1cd24a7eea1e7a6447dd0e74ec.tar.gz"
